template:
  name: Lab A Complete
  type: Pipeline
  orgIdentifier: none
  spec:
    stages:
      - stage:
          name: CI
          identifier: CI
          description: ""
          type: CI
          spec:
            cloneCodebase: true
            caching:
              enabled: true
              override: true
            buildIntelligence:
              enabled: true
            platform:
              os: Linux
              arch: Amd64
            runtime:
              type: Cloud
              spec: {}
            execution:
              steps:
                - step:
                    type: BuildAndPushGAR
                    name: Build and Push Artifact
                    identifier: BuildAndPushGAR_1
                    spec:
                      connectorRef: org.GCP_Platform_Connector
                      host: <+variable.org.google_region>-docker.pkg.dev
                      projectID: <+variable.org.google_project_id>
                      imageName: <+variable.org.google_resource_id>/<+pipeline.properties.ci.codebase.repoName>
                      tags:
                        - <+project.name>
    properties:
      ci:
        codebase:
          connectorRef: org.GitHub_Connector
          repoName: globalcorp-mainapi
          build: <+input>
  identifier: Lab_A_Complete
  tags:
    cheatcode: ""
  versionLabel: "1"
